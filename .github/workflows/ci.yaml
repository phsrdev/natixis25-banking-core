name: Hello Natixis

on:
  workflow_dispatch:
    inputs:
      environment:
        description: 'Deployment environment'
        required: true
        default: 'production'
        type: choice
        options:
          - production
          - staging
          - development

jobs:

  pipeline:
    name: Pipeline CI/CD
    runs-on: ubuntu-latest

    steps:

      # S1
      - name: S1 - Obter código
        uses: actions/checkout@v4

      # S2
      - name: S2 - Instalar dependências
        run: |
          echo "Instalando dependências..."
          # npm install
          # pip install -r requirements.txt
          # mvn install -DskipTests

      # S3
      - name: S3 - Rodar testes
        run: |
          echo "Rodando testes..."
          # npm test
          # pytest
          # mvn test

      # S4
      - name: S4 - Deploy
        run: |
          echo "Fazendo deploy para o ambiente: ${{ github.event.inputs.environment }}"
          # comando de deploy real aqui
